# –ò—Ç–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ª–∏—à–Ω–∏–µ –º–æ–¥—É–ª–∏
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –º–æ–¥—É–ª–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `pyproject.toml` –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
- **Core dependencies** - –≤—Å–µ –≤ —Ä–∞–±–æ—Ç–µ
- **Optional dependencies** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π
- **docling** - –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `FileProcessor`
- **ContentParser & FileProcessor** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö

–ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç: `UNUSED_MODULES_CHECK.md`

### 2. ‚úÖ –†–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è MCP —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ MCP –º–æ–¥—É–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `src/mcp/`

#### –î–æ:
```
src/
‚îú‚îÄ‚îÄ agents/
‚îÇ   ‚îî‚îÄ‚îÄ mcp/          ‚Üê MCP –º–æ–¥—É–ª–∏
‚îî‚îÄ‚îÄ mcp_registry/     ‚Üê –†–µ–µ—Å—Ç—Ä MCP
```

#### –ü–æ—Å–ª–µ:
```
src/
‚îú‚îÄ‚îÄ agents/           (–±–µ–∑ MCP)
‚îî‚îÄ‚îÄ mcp/             ‚Üê –í—Å–µ MCP –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
    ‚îú‚îÄ‚îÄ memory/
    ‚îú‚îÄ‚îÄ registry/
    ‚îî‚îÄ‚îÄ ...
```

## üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ MCP

```
src/mcp/
‚îú‚îÄ‚îÄ __init__.py                  # MCP —ç–∫—Å–ø–æ—Ä—Ç—ã
‚îú‚îÄ‚îÄ base_mcp_tool.py            # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å MCP tool
‚îú‚îÄ‚îÄ client.py                   # MCP –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ dynamic_mcp_tools.py        # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ MCP tools
‚îú‚îÄ‚îÄ mcp_hub_server.py          # MCP hub —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ qwen_config_generator.py   # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–≥–æ–≤ –¥–ª—è Qwen
‚îú‚îÄ‚îÄ README.md                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è MCP
‚îú‚îÄ‚îÄ registry_client.py          # –ö–ª–∏–µ–Ω—Ç —Ä–µ–µ—Å—Ç—Ä–∞
‚îú‚îÄ‚îÄ server_manager.py          # –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–µ—Ä–≤–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ tools_description.py       # –û–ø–∏—Å–∞–Ω–∏—è tools
‚îÇ
‚îú‚îÄ‚îÄ memory/                     # –°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏ (21 —Ñ–∞–π–ª)
‚îÇ   ‚îú‚îÄ‚îÄ memory_base.py
‚îÇ   ‚îú‚îÄ‚îÄ memory_factory.py
‚îÇ   ‚îú‚îÄ‚îÄ memory_*_storage.py    (JSON, Vector, MemAgent)
‚îÇ   ‚îî‚îÄ‚îÄ mem_agent_impl/        # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è mem-agent
‚îÇ       ‚îú‚îÄ‚îÄ agent.py
‚îÇ       ‚îú‚îÄ‚îÄ engine.py
‚îÇ       ‚îú‚îÄ‚îÄ mcp_server.py
‚îÇ       ‚îú‚îÄ‚îÄ model.py
‚îÇ       ‚îú‚îÄ‚îÄ schemas.py
‚îÇ       ‚îú‚îÄ‚îÄ settings.py
‚îÇ       ‚îú‚îÄ‚îÄ tools.py
‚îÇ       ‚îî‚îÄ‚îÄ utils.py
‚îÇ
‚îî‚îÄ‚îÄ registry/                   # –†–µ–µ—Å—Ç—Ä MCP —Å–µ—Ä–≤–µ—Ä–æ–≤
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ manager.py
    ‚îî‚îÄ‚îÄ registry.py
```

**–í—Å–µ–≥–æ:** 31 Python —Ñ–∞–π–ª –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ MCP

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã

### –ü–∞—Ç—Ç–µ—Ä–Ω –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```python
# –ë—ã–ª–æ:
from src.agents.mcp.memory import MemoryStorageFactory
from src.mcp_registry import MCPServersManager

# –°—Ç–∞–ª–æ:
from src.mcp.memory import MemoryStorageFactory
from src.mcp.registry import MCPServersManager
```

### –û–±–Ω–æ–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:
- **–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:** 13 —Ñ–∞–π–ª–æ–≤
- **–¢–µ—Å—Ç—ã:** 4 —Ñ–∞–π–ª–∞
- **–ü—Ä–∏–º–µ—Ä—ã:** 4 —Ñ–∞–π–ª–∞
- **–°–∫—Ä–∏–ø—Ç—ã:** 2 —Ñ–∞–π–ª–∞

**–ò—Ç–æ–≥–æ:** 60 –∏–º–ø–æ—Ä—Ç–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–æ –≤ 24 —Ñ–∞–π–ª–∞—Ö

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å Python
```bash
‚úÖ src/mcp/__init__.py
‚úÖ src/mcp/registry/__init__.py
‚úÖ src/mcp/registry_client.py
‚úÖ src/mcp/mcp_hub_server.py
‚úÖ src/mcp/server_manager.py
‚úÖ src/mcp/memory/memory_tool.py
‚úÖ src/bot/mcp_handlers.py
‚úÖ src/bot/telegram_bot.py
‚úÖ src/core/service_container.py
‚úÖ tests/test_mcp_user_discovery.py
‚úÖ tests/test_mcp_tools_description.py
‚úÖ tests/test_mem_agent.py
```

–í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ—à–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞!

### –£–¥–∞–ª–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- ‚ùå `src/agents/mcp/` - —É–¥–∞–ª–µ–Ω–æ ‚úÖ
- ‚ùå `src/mcp_registry/` - —É–¥–∞–ª–µ–Ω–æ ‚úÖ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Å—ã–ª–æ–∫
- ‚úÖ –°—Ç–∞—Ä—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å (0 –Ω–∞–π–¥–µ–Ω–æ)
- ‚úÖ –í—Å–µ –Ω–æ–≤—ã–µ –∏–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ù–µ—Ç –±–∏—Ç—ã—Ö —Å—Å—ã–ª–æ–∫
- ‚úÖ –í—Å–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã (–∫–æ–º–∞–Ω–¥—ã, –ø–∞—Ç—á–∏ –≤ —Ç–µ—Å—Ç–∞—Ö)

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| MCP Python —Ñ–∞–π–ª–æ–≤ | 31 |
| –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ | 60 |
| –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ | 24 |
| –£–¥–∞–ª–µ–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π | 2 |
| –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å | 8+ |

## üéÅ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

1. **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞** - –≤–µ—Å—å MCP –∫–æ–¥ –≤ `src/mcp/`
2. **–õ–æ–≥–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - registry —Ç–µ–ø–µ—Ä—å —á–∞—Å—Ç—å MCP
3. **–ü—Ä–æ—â–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω–æ–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
4. **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–¥—Å–∏—Å—Ç–µ–º
5. **–õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –º–µ–Ω—å—à–µ –º–µ—Å—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–æ–¥–∞

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω—ã –æ—Ç—á–µ—Ç—ã:
- ‚úÖ `MCP_REORGANIZATION_SUMMARY.md` - –¥–µ—Ç–∞–ª–∏ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ `UNUSED_MODULES_CHECK.md` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ `CODE_REVIEW_SUMMARY.md` - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π –æ—Ç—á–µ—Ç

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ:
- –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- –°—Ç–∞—Ä—ã–π –∫–æ–¥ —É–¥–∞–ª–µ–Ω
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π!

## üìå –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å** - —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
2. **API –æ—Å—Ç–∞–ª—Å—è –ø—Ä–µ–∂–Ω–∏–º** - –≤—Å–µ —ç–∫—Å–ø–æ—Ä—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —á–µ—Ä–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞** - README –∏ INTEGRATION.md –Ω–∞ –º–µ—Å—Ç–µ

---

**–î–∞—Ç–∞:** 2025-10-12  
**–í–µ—Ç–∫–∞:** cursor/clean-unused-modules-and-organize-mcp-a413  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ
