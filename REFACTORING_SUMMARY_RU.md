# –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ MCP Mem Agent

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

–ü—Ä–æ–≤–µ–¥–µ–Ω –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã MCP mem agent –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –∏ —É–ø—Ä–æ—â–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `src/mem_agent/storage.py` (260 —Å—Ç—Ä–æ–∫)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±—â–∏–π –∫–ª–∞—Å—Å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –∞–≥–µ–Ω—Ç–∞

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- `store()` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ —Ç–µ–≥–∞–º–∏
- `retrieve()` - –ø–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Ç–µ–≥–∞–º
- `search()` - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ (–∞–ª–∏–∞—Å retrieve)
- `list_all()` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π
- `list_categories()` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- `delete()` - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ ID
- `clear()` - –æ—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –∏–ª–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∏—Å—Ç–∏–Ω—ã –¥–ª—è –ª–æ–≥–∏–∫–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ (—Å–µ—Ä–≤–µ—Ä, –∫–ª–∏–µ–Ω—Ç, —Ç–µ—Å—Ç—ã)
- –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –Ω–æ–≤—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
- –•–æ—Ä–æ—à–µ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 2. `src/agents/mcp/server_manager.py` (370 —Å—Ç—Ä–æ–∫)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º MCP —Å–µ—Ä–≤–µ—Ä–æ–≤

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- `MCPServerProcess` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
  - `start()` - –∑–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞
  - `stop()` - graceful shutdown —Å —Ç–∞–π–º–∞—É—Ç–æ–º
  - `is_running()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

- `MCPServerManager` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏
  - `register_server()` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
  - `start_server()` / `stop_server()` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã–º
  - `start_all()` / `stop_all()` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏
  - `setup_default_servers()` - –∞–≤—Ç–æ—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º
  - `auto_start_servers()` - –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞
  - `cleanup()` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
  - `get_status()` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ MCP —Å–µ—Ä–≤–µ—Ä–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞
- Graceful shutdown –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### 3. `REFACTORING_MCP_MEM_AGENT.md` (400 —Å—Ç—Ä–æ–∫)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –¶–µ–ª–∏ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–æ/–ø–æ—Å–ª–µ
- –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –ú–∏–≥—Ä–∞—Ü–∏—è –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ roadmap

### 4. `REFACTORING_SUMMARY_RU.md` (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è

## –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `src/mem_agent/__init__.py`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `MemoryStorage`
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª—è

### 2. `src/agents/mcp/mem_agent_server.py`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–¥–∞–ª–µ–Ω–∞ –¥—É–±–ª–∏—Ä—É—é—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `MemoryStorage` (~160 —Å—Ç—Ä–æ–∫)
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –æ–±—â–µ–≥–æ –∫–ª–∞—Å—Å–∞ `from src.mem_agent.storage import MemoryStorage`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–≥–æ–≤ –≤ API (`store_memory`, `retrieve_memory`)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** -100 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞, –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

### 3. `src/agents/mcp/__init__.py`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã —ç–∫—Å–ø–æ—Ä—Ç—ã: `MCPServerManager`, `get_server_manager`, `set_server_manager`

### 4. `src/core/service_container.py`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `MCPServerManager`
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω `mcp_server_manager` –∫–∞–∫ singleton –≤ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

### 5. `main.py`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü–æ–ª—É—á–µ–Ω–∏–µ `mcp_server_manager` –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤ –µ—Å–ª–∏ `AGENT_ENABLE_MCP` –∏–ª–∏ `AGENT_ENABLE_MCP_MEMORY` –≤–∫–ª—é—á–µ–Ω—ã
- –í—ã–∑–æ–≤ `cleanup()` –ø—Ä–∏ graceful shutdown (KeyboardInterrupt –∏ Exception)

### 6. `README_MEM_AGENT.md`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª –æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞
- –û–±–Ω–æ–≤–ª–µ–Ω –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

**–ë—ã–ª–æ:**
```
src/agents/mcp/mem_agent_server.py:
  class MemoryStorage:  # ~160 —Å—Ç—Ä–æ–∫
    def store()
    def retrieve()
    def list_categories()
```

**–°—Ç–∞–ª–æ:**
```
src/mem_agent/storage.py:
  class MemoryStorage:  # ~260 —Å—Ç—Ä–æ–∫ (+ –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã)
    def store()
    def retrieve()
    def search()      # –Ω–æ–≤—ã–π
    def list_all()    # –Ω–æ–≤—ã–π
    def delete()      # –Ω–æ–≤—ã–π
    def clear()       # –Ω–æ–≤—ã–π
    def list_categories()

src/agents/mcp/mem_agent_server.py:
  from src.mem_agent.storage import MemoryStorage
  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—â–∏–π –∫–ª–∞—Å—Å
```

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤

**–ë—ã–ª–æ:**
```python
# –ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–µ—Ä–≤–µ—Ä:
python -m src.agents.mcp.mem_agent_server
```

**–°—Ç–∞–ª–æ:**
```python
# main.py –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞:
if settings.AGENT_ENABLE_MCP_MEMORY:
    await mcp_server_manager.auto_start_servers()
    
# –ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –±–æ—Ç–∞:
await mcp_server_manager.cleanup()
```

### ‚úÖ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–ë—ã–ª–æ:**
- AutonomousAgent –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–≤–æ–∏ MCP —Å–µ—Ä–≤–µ—Ä—ã
- QwenCodeCLIAgent –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–≤–æ–∏ MCP —Å–µ—Ä–≤–µ—Ä—ã
- –í–æ–∑–º–æ–∂–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**–°—Ç–∞–ª–æ:**
- MCPServerManager –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–µ—Ä—ã –æ–¥–∏–Ω —Ä–∞–∑
- –í—Å–µ –∞–≥–µ–Ω—Ç—ã –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫ –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ —Å–µ—Ä–≤–µ—Ä–∞–º
- –≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤, –ø—Ä–æ—â–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–≥–æ–≤
```python
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å —Ç–µ–≥–∞–º–∏
storage.store(
    content="SQL injection found",
    category="security",
    tags=["critical", "sql", "vulnerability"]
)

# –ò—Å–∫–∞—Ç—å –ø–æ —Ç–µ–≥–∞–º
results = storage.retrieve(tags=["critical"])
```

### 2. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π API
```python
# –ü–æ–∏—Å–∫
storage.search(query="SQL", limit=5)

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö
storage.list_all(limit=100)

# –£–¥–∞–ª–µ–Ω–∏–µ
storage.delete(memory_id=42)

# –û—á–∏—Å—Ç–∫–∞
storage.clear(category="temp")
```

### 3. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞–º–∏
```python
from src.agents.mcp import get_server_manager

manager = get_server_manager()
status = manager.get_status()
# {'mem-agent': {'running': True, 'pid': 12345}}
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

```
Bot Startup (main.py)
  ‚Üì
Service Container —Å–æ–∑–¥–∞–µ—Ç MCPServerManager
  ‚Üì
MCPServerManager.auto_start_servers()
  ‚Üì –∑–∞–ø—É—Å–∫–∞–µ—Ç –µ—Å–ª–∏ AGENT_ENABLE_MCP_MEMORY=true
python -m src.agents.mcp.mem_agent_server
  ‚Üì –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
MemoryStorage (src/mem_agent/storage.py)
  ‚Üì —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤
knowledge_bases/{user_kb}/memory/memory.json

–ê–≥–µ–Ω—Ç—ã –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è:
  AutonomousAgent ‚Üí DynamicMCPTool ‚Üí MCPClient ‚îê
                                                 ‚îú‚Üí mem-agent server
  QwenCodeCLIAgent ‚Üí Qwen native MCP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ú–µ—Ç—Ä–∏–∫–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### –ö–æ–¥
- ‚úÖ –°–æ–∑–¥–∞–Ω–æ: 3 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–∞ (~1030 —Å—Ç—Ä–æ–∫)
- ‚úÖ –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ: 6 —Ñ–∞–π–ª–æ–≤
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: ~160 —Å—Ç—Ä–æ–∫
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –Ω–æ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤: 4 (search, list_all, delete, clear)

### –ö–∞—á–µ—Å—Ç–≤–æ
- ‚úÖ –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∏—Å—Ç–∏–Ω—ã –¥–ª—è MemoryStorage
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ Dependency Injection –¥–ª—è MCPServerManager
- ‚úÖ Graceful shutdown –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–≥–æ–≤
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π API
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω README_MEM_AGENT.md
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ **–ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
- API MCP —Å–µ—Ä–≤–µ—Ä–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è
- –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ memory.json —Å–æ–≤–º–µ—Å—Ç–∏–º
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ config.yaml –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

‚úÖ **–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã:**
- –ü–æ–ª–µ `tags` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ
- –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –Ω–µ –ª–æ–º–∞—é—Ç —Å—Ç–∞—Ä—ã–π –∫–æ–¥
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# 1. –í–∫–ª—é—á–∏—Ç—å –≤ config.yaml
AGENT_ENABLE_MCP: true
AGENT_ENABLE_MCP_MEMORY: true

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
python main.py

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
# [INFO] MCPServerManager: Auto-starting MCP servers...
# [INFO] MCPServerManager: ‚úì Server 'mem-agent' started successfully

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
ps aux | grep mem_agent_server

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -f logs/bot.log | grep "MCPServerManager\|MemoryStorage"
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
2. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å health checks
4. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- [ ] Health checks –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Å—Ç–∞—Ä—Ç –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
- [ ] Metrics (Prometheus/Grafana)
- [ ] Rate limiting
- [ ] Distributed MCP servers

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω!** üéâ

–í—Å–µ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã:
1. ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
2. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤
3. ‚úÖ –í—Å–µ –∞–≥–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–µ—Ä–≤–µ—Ä–Ω—É—é –≤–µ—Ä—Å–∏—é
4. ‚úÖ –£–ø—Ä–æ—â–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
5. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
6. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É! üöÄ

---

**–ê–≤—Ç–æ—Ä —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:** AI Assistant (Claude Sonnet 4.5)  
**–î–∞—Ç–∞:** 2025-10-07  
**–í–µ—Ç–∫–∞:** cursor/refactor-mcp-mem-agent-for-server-consolidation-f440