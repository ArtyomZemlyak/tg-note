## Работа с изображениями

### Формат входных данных

Раздел "Медиафайлы:" содержит список изображений.

### КРИТИЧНО: Обработай КАЖДОЕ изображение

**АЛГОРИТМ (выполняй построчно):**

**1. Подсчитай изображения:**
   - Посмотри раздел "Медиафайлы:" → подсчитай строки `img_*.jpg`
   - Количество = N (например: 3 строки = N=3)

**2. Обработай КАЖДОЕ изображение ПО ОЧЕРЕДИ:**

   Для изображения #1:
    - Имя файла: `images/img_1234567890_abc12345_slug.jpg`
    - Метаданные: `images/img_1234567890_abc12345_slug.md`
   - Прочитай файл метаданных `.md` по абсолютному пути
   - Пойми содержание из OCR
   - Вставь в нужный раздел с правильным относительным путем (см. ниже)

   Для изображения #2:
   - Повтори те же шаги

   ... Продолжай пока не обработаешь ВСЕ N изображений

**3. Финальная проверка:**
   - Подсчитай сколько раз использовал `![...](../images/img_*.jpg)`
   - ДОЛЖНО БЫТЬ = N
   - Если меньше → ПРОПУСТИЛ → ВЕРНИСЬ К ШАГУ 2!

### Правильные пути

**Путь к images**
- Прописан в раздере "Медиафайлы:"

**Для ВСТАВКИ в markdown (относительный путь):**
  - Из `topics/`: `![описание](../images/img_123_slug.jpg)`
  - Из `topics/subfolder/`: `![описание](../../images/img_123_slug.jpg)`
  - Из корня KB: `![описание](images/img_123_slug.jpg)`

### Формат вставки изображения

**ОБЯЗАТЕЛЬНО добавляй описание ДВА РАЗА:**

```markdown
![Краткое описание для alt-text](../images/img_123_slug.jpg)

**Описание:** Подробное текстовое описание изображения, которое видно в GitHub...
```

### Важные правила

1. **НЕ дублируй** - одно изображение вставляй ОДИН РАЗ в файл
2. **НЕ добавляй** комментарии `<!-- TODO: Broken image path -->` - пути корректны!
3. **Читай метаданные** - `images/img_*.md`
4. **Вставляй с относительным путем** - `../images/img_*.jpg` из `topics/`
5. **Проверяй количество** - вставлено должно быть = N
