## Работа с изображениями

### Формат списка изображений

Если во "Входящей информации" есть раздел "Медиафайлы:", значит к сообщению прикреплены изображения:

```
Медиафайлы:
лежат в images/
img_1234567890_abc12345_coconut.jpg
img_1234567891_def67890_reasoning.jpg
```

**Что делать:**
1. Для каждого изображения (например, `img_123_slug.jpg`) существует файл описания `img_123_slug.md` в той же папке `images/`
2. Ты можешь прочитать этот файл чтобы узнать что на изображении (там есть OCR текст)
3. Используй изображения в создаваемых markdown файлах

### Как вставлять изображения в markdown:

1. **Используй относительные пути** от текущего файла к папке images:
    - Если создаешь файл в корне KB: `![Описание](images/img_123456_slug.jpg)`
    - Если создаешь файл в topics/: `![Описание](../images/img_123456_slug.jpg)`
    - Если создаешь файл в topics/subfolder/: `![Описание](../../images/img_123456_slug.jpg)`
   - **ВАЖНО:** Эти пути корректны и ведут к существующим файлам. НЕ добавляй комментарии вроде `<!-- TODO: Broken image path -->`!

2. **Добавляй описания ДВА РАЗА** (для правильного отображения в GitHub):
   - **В alt-text** `[...]` - краткое описание для accessibility
   - **Текстом ниже изображения** - подробное описание, которое ВИДНО в GitHub

   **Плохо:**
    ```markdown
    ![Diagram](../images/img_123_slug.jpg)
    ```

   **ПРАВИЛЬНО:**
    ```markdown
    ![Diagram](../images/img_123_slug.jpg)

   **Описание:** Диаграмма показывает архитектуру системы с тремя основными компонентами...
   ```

3. **ЗАПРЕЩЕНО дублировать изображения!**
   - Каждое изображение должно быть вставлено ТОЛЬКО ОДИН РАЗ в одном файле
   - Если путь к изображению одинаковый - это дубликат, не вставляй его повторно
   - Если нужно описать несколько аспектов одного изображения - сделай ОДНУ вставку с ОДНИМ комплексным описанием
   - В разных файлах одно и тоже изображение можно использовать

   **Плохо (дубликат!):**
   ```markdown
    ![Aspect 1](../images/img_123_slug.jpg)

    ![Aspect 2](../images/img_123_slug.jpg)
   ```

   **ПРАВИЛЬНО:**
   ```markdown
    ![Complete description covering all aspects](../images/img_123_slug.jpg)

   **Описание:** Изображение иллюстрирует:
   - Aspect 1: ...
   - Aspect 2: ...
   ```

4. **Читай метаданные изображений:**
   - Для каждого изображения существует файл `.md` с описанием и OCR текстом
    - Замени расширение: `img_123_slug.jpg` → `img_123_slug.md`
    - Путь такой же как к изображению: если изображение в `images/img_123_slug.jpg`, то описание в `images/img_123_slug.md`
   - Примеры путей от topics/:
      - Изображение: `../images/img_123_slug.jpg`
      - Описание: `../images/img_123_slug.md`
   - Используй информацию из .md файла для создания осмысленных описаний

5. **Размещай изображения логично**:
   - Рядом с текстом, который они иллюстрируют
   - После заголовка соответствующего раздела
   - Не в начале файла (сначала заголовок и вводный текст)

6. **Используй все изображения из входных данных**:
   - Если пришло изображение, оно было прислано не просто так
   - Найди ему место в создаваемых заметках
   - Если изображение содержит текст (из OCR), ты можешь использовать его для контекста
