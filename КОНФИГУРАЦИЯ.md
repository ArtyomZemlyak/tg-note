# –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–í—Å–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤, –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –∏ —Ñ–æ—Ä–º–∞—Ç—ã –Ω–∞–∑–≤–∞–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 1. –ü—Ä–æ–º–ø—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≥–µ–Ω—Ç–æ–≤
**–§–∞–π–ª:** `config/agent_prompts.py` (223 —Å—Ç—Ä–æ–∫–∏)

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- ‚úÖ –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∞–≥–µ–Ω—Ç–æ–≤
- ‚úÖ –®–∞–±–ª–æ–Ω—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- ‚úÖ –°—Ç–æ–ø-—Å–ª–æ–≤–∞ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Markdown
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
**–§–∞–π–ª:** `config/kb_structure.py` (396 —Å—Ç—Ä–æ–∫)

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ –ü—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ frontmatter
- ‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
**–§–∞–π–ª:** `docs/CONFIG_CENTRALIZATION.md` (472 —Å—Ç—Ä–æ–∫–∏)

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–º–ø—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤

```python
# config/agent_prompts.py

# –ü—Ä–æ–º–ø—Ç –¥–ª—è QwenCodeAgent
QWEN_CODE_AGENT_INSTRUCTION = """..."""

# –ü—Ä–æ–º–ø—Ç –¥–ª—è QwenCodeCLIAgent
QWEN_CODE_CLI_AGENT_INSTRUCTION = """..."""

# –®–∞–±–ª–æ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
CONTENT_PROCESSING_PROMPT_TEMPLATE = """..."""
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞

```python
CATEGORY_KEYWORDS = {
    "ai": ["ai", "machine learning", "neural network", ...],
    "tech": ["programming", "code", "software", ...],
    "science": ["physics", "biology", "chemistry", ...],
    "business": ["business", "market", "finance", ...],
}

DEFAULT_CATEGORY = "general"
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π

```
knowledge_base/
‚îú‚îÄ‚îÄ topics/
‚îÇ   ‚îú‚îÄ‚îÄ general/
‚îÇ   ‚îú‚îÄ‚îÄ ai/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ machine-learning/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ nlp/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ computer-vision/
‚îÇ   ‚îú‚îÄ‚îÄ tech/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ programming/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ web-development/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ devops/
‚îÇ   ‚îú‚îÄ‚îÄ science/
‚îÇ   ‚îî‚îÄ‚îÄ business/
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ index.md
```

### –§–æ—Ä–º–∞—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–ò–º—è —Ñ–∞–π–ª–∞:**
```
2025-10-03-–Ω–∞–∑–≤–∞–Ω–∏–µ-–¥–æ–∫—É–º–µ–Ω—Ç–∞.md
```

**Frontmatter:**
```yaml
---
title: –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
category: ai
subcategory: machine-learning
tags: [python, tensorflow, neural-networks]
created_at: 2025-10-03T12:00:00
---
```

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–º–ø–æ—Ä—Ç –ø—Ä–æ–º–ø—Ç–æ–≤

```python
from config.agent_prompts import (
    QWEN_CODE_AGENT_INSTRUCTION,
    CATEGORY_KEYWORDS,
    STOP_WORDS,
    MAX_TITLE_LENGTH,
)
```

### –ò–º–ø–æ—Ä—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã KB

```python
from config.kb_structure import (
    generate_filename,
    create_frontmatter,
    slugify,
    KB_BASE_STRUCTURE,
)

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
filename = generate_filename("–ú–æ—è –∑–∞–º–µ—Ç–∫–∞")
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 2025-10-03-–º–æ—è-–∑–∞–º–µ—Ç–∫–∞.md

# –°–æ–∑–¥–∞–Ω–∏–µ frontmatter
frontmatter = create_frontmatter(
    title="–ú–æ—è –∑–∞–º–µ—Ç–∫–∞",
    category="ai",
    tags=["python", "ml"]
)
```

## ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **src/agents/qwen_code_agent.py** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–º–ø—Ç—ã –∏–∑ config
2. **src/agents/qwen_code_cli_agent.py** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–º–ø—Ç—ã –∏–∑ config
3. **src/knowledge_base/manager.py** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ config
4. **src/knowledge_base/repository.py** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ config

## üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –¥–ª–∏–Ω—ã

```python
MAX_TITLE_LENGTH = 60        # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞
MAX_SUMMARY_LENGTH = 200     # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Ä–µ–∑—é–º–µ
MAX_KEYWORD_COUNT = 10       # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
MAX_TAG_COUNT = 5            # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–≥–æ–≤
MIN_KEYWORD_LENGTH = 3       # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞
MAX_SLUG_LENGTH = 50         # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ slug –≤ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
```

### –§–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞

```python
FILENAME_DATE_FORMAT = "%Y-%m-%d"
FILENAME_TEMPLATE = "{date}-{slug}.md"
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

```python
# –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ git –∫–æ–º–∞–Ω–¥—ã (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ)
SAFE_GIT_COMMANDS = ["status", "log", "diff", "branch", "remote", "show"]

# –û–ø–∞—Å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã shell –∫–æ–º–∞–Ω–¥
DANGEROUS_SHELL_PATTERNS = ["rm -rf", "sudo", "chmod -R", ...]
```

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### 1. –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –¥–≤—É—Ö —Ñ–∞–π–ª–∞—Ö
- –õ–µ–≥–∫–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å
- –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞

### 2. –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–∑–¥–µ
- –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ KB

### 3. –ì–∏–±–∫–æ—Å—Ç—å
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –ü—Ä–æ—Å—Ç–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
- –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è = –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ü–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ –∫–∞–∂–¥—É—é —Å–µ–∫—Ü–∏—é

## üìö –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é

**1. –í `config/kb_structure.py`:**
```python
KB_BASE_STRUCTURE["topics"]["–Ω–æ–≤–∞—è_–∫–∞—Ç–µ–≥–æ—Ä–∏—è"] = {
    "–ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è1": {},
    "–ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è2": {},
}

DEFAULT_CATEGORIES.append("–Ω–æ–≤–∞—è_–∫–∞—Ç–µ–≥–æ—Ä–∏—è")

CATEGORY_SUBCATEGORIES["–Ω–æ–≤–∞—è_–∫–∞—Ç–µ–≥–æ—Ä–∏—è"] = [
    "–ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è1", "–ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è2"
]
```

**2. –í `config/agent_prompts.py`:**
```python
CATEGORY_KEYWORDS["–Ω–æ–≤–∞—è_–∫–∞—Ç–µ–≥–æ—Ä–∏—è"] = [
    "–∫–ª—é—á–µ–≤–æ–µ_—Å–ª–æ–≤–æ1",
    "–∫–ª—é—á–µ–≤–æ–µ_—Å–ª–æ–≤–æ2",
]
```

### –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–ø—Ç –∞–≥–µ–Ω—Ç–∞

**–í `config/agent_prompts.py`:**
```python
QWEN_CODE_AGENT_INSTRUCTION = """
–í–∞—à–∞ –Ω–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∞–≥–µ–Ω—Ç–∞...
"""
```

## üîç –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```python
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
generate_filename(title: str, date: Optional[datetime] = None) -> str

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ slug
slugify(text: str) -> str

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—É—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
get_relative_path(category: str, subcategory: Optional[str] = None) -> str

# –°–æ–∑–¥–∞–Ω–∏–µ frontmatter
create_frontmatter(title: str, category: str, ...) -> str

# –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
is_valid_category(category: str) -> bool

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π
get_valid_subcategories(category: str) -> List[str]
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏: **[docs/CONFIG_CENTRALIZATION.md](docs/CONFIG_CENTRALIZATION.md)**

## ‚ú® –ò—Ç–æ–≥

‚úÖ –í—Å–µ –ø—Ä–æ–º–ø—Ç—ã —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ `config/agent_prompts.py`
‚úÖ –í—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ KB —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ `config/kb_structure.py`
‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
‚úÖ –£–¥–∞–ª–µ–Ω –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
‚úÖ –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ–ø–µ—Ä—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–∞, –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ
