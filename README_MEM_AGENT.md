# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è mem-agent –≤ tg-note

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

mem-agent - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–º–µ—Ç–æ–∫ –∏ –ø–æ–∏—Å–∫–∞, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –¥–ª—è **–æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞**.

### –î–ª—è —á–µ–≥–æ —ç—Ç–æ –Ω—É–∂–Ω–æ –∞–≥–µ–Ω—Ç—É:

- **–ó–∞–ø–∏—Å—ã–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫–∏**: –í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –∞–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–∞—Ö–æ–¥–∫–∏ –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç
- **–ò—Å–∫–∞—Ç—å –∏ "–≤—Å–ø–æ–º–∏–Ω–∞—Ç—å"**: –ü–æ–∑–∂–µ –∞–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –∏—Å–∫–∞—Ç—å –ø–æ —Å–≤–æ–∏–º –∑–∞–º–µ—Ç–∫–∞–º, —á—Ç–æ–±—ã "–≤—Å–ø–æ–º–Ω–∏—Ç—å" —á—Ç–æ –æ–Ω —Ä–∞–Ω–µ–µ –∑–∞–ø–∏—Å–∞–ª
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä–∞–±–æ—á—É—é –ø–∞–º—è—Ç—å**: –û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏ –∞–≥–µ–Ω—Ç–∞, –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–Ω–æ–≥–æ –≤—ã–∑–æ–≤–æ–≤ LLM (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ qwen code cli –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∞–≥–µ–Ω—Ç)

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

1. –ê–≥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–¥–æ–≤—É—é –±–∞–∑—É –∏ **–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç** –Ω–∞—Ö–æ–¥–∫–∏:
   - "–ù–∞–π–¥–µ–Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç—å SQL injection –≤ login.py"
   - "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PostgreSQL 14 —Å pgvector"
   - "–ù–∞–π–¥–µ–Ω–æ 15 TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤"

2. –ü–æ–∑–∂–µ –≤ —Ç–æ–π –∂–µ —Å–µ—Å—Å–∏–∏ –∞–≥–µ–Ω—Ç—É –∑–∞–¥–∞—é—Ç –≤–æ–ø—Ä–æ—Å "–ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç—ã –Ω–∞—à–µ–ª?"

3. –ê–≥–µ–Ω—Ç **–∏—â–µ—Ç** –≤ —Å–≤–æ–∏—Ö –∑–∞–º–µ—Ç–∫–∞—Ö –∏ –Ω–∞—Ö–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ SQL injection

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–£—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è mem-agent –∏–∑ https://github.com/firstbatchxyz/mem-agent-mcp –≤ –Ω–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏:

### 1. –°–∏—Å—Ç–µ–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ MCP —Å–µ—Ä–≤–µ—Ä–æ–≤

–°–æ–∑–¥–∞–Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è MCP —Å–µ—Ä–≤–µ—Ä–∞–º–∏ —á–µ—Ä–µ–∑ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏–∑ `data/mcp_servers/*.json`
- **–ü—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** (–≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–≤)
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤** - –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å JSON —Ñ–∞–π–ª
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞

### 2. –õ–æ–∫–∞–ª—å–Ω—ã–π mem-agent –¥–ª—è –∞–≥–µ–Ω—Ç–∞

- **–ë–µ–∑ OpenAI API** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ LLM –º–æ–¥–µ–ª–∏
- **Python-based** - –Ω–µ –Ω—É–∂–µ–Ω Node.js/npm
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π** —á–µ—Ä–µ–∑ HuggingFace CLI
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –±—ç–∫–µ–Ω–¥–æ–≤**:
  - vLLM –¥–ª—è Linux —Å GPU (–ª—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
  - MLX –¥–ª—è macOS —Å Apple Silicon
  - Transformers –¥–ª—è CPU (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)

### 3. –ü–∞–º—è—Ç—å per-user –≤ knowledge base

–ü–∞–º—è—Ç—å —Ö—Ä–∞–Ω–∏—Ç—Å—è **–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –≤ –µ–≥–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π:

```
knowledge_bases/
‚îî‚îÄ‚îÄ {user_kb_name}/   # –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç —Å–≤–æ—é KB
    ‚îú‚îÄ‚îÄ .mcp_servers/ # MCP —Å–µ—Ä–≤–µ—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    ‚îÇ   ‚îî‚îÄ‚îÄ mem-agent.json
    ‚îú‚îÄ‚îÄ memory/       # –ü–∞–º—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ postfix)
    ‚îÇ   ‚îú‚îÄ‚îÄ user.md   # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
    ‚îÇ   ‚îî‚îÄ‚îÄ entities/ # –§–∞–π–ª—ã —Å—É—â–Ω–æ—Å—Ç–µ–π
    ‚îî‚îÄ‚îÄ topics/       # –ó–∞–º–µ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

**–í–∞–∂–Ω–æ:**
- –ü—É—Ç—å –∫ –ø–∞–º—è—Ç–∏: `{kb_path}/{MEM_AGENT_MEMORY_POSTFIX}`
- MCP —Å–µ—Ä–≤–µ—Ä—ã: `{kb_path}/{MCP_SERVERS_POSTFIX}`
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å mem-agent
python scripts/install_mem_agent.py

# –≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
# - –°–∫–∞—á–∞–µ—Ç –º–æ–¥–µ–ª—å —Å HuggingFace
# - –°–æ–∑–¥–∞—Å—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–º—è—Ç–∏
# - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç MCP —Å–µ—Ä–≤–µ—Ä
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–í–∫–ª—é—á–∏—Ç—å –≤ `config.yaml`:

```yaml
# –í–∫–ª—é—á–∏—Ç—å MCP
AGENT_ENABLE_MCP: true
AGENT_ENABLE_MCP_MEMORY: true

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ mem-agent
MEM_AGENT_MODEL: driaforall/mem-agent
MEM_AGENT_MODEL_PRECISION: 4bit  # 4bit, 8bit, –∏–ª–∏ fp16
MEM_AGENT_BACKEND: auto          # auto, vllm, mlx, –∏–ª–∏ transformers
MEM_AGENT_MEMORY_POSTFIX: memory # Postfix –≤ —Ä–∞–º–∫–∞—Ö KB (kb_path/memory)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ MCP
MCP_SERVERS_POSTFIX: .mcp_servers # Per-user MCP —Å–µ—Ä–≤–µ—Ä—ã (kb_path/.mcp_servers)
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ë–∞–∑–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ MCP
pip install ".[mcp]"

# –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ mem-agent
pip install ".[mem-agent]"

# –ë—ç–∫–µ–Ω–¥ –¥–ª—è –≤–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:
# macOS:
pip install mlx mlx-lm

# Linux —Å GPU:
pip install vllm
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ mem-agent –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
cat data/mcp_servers/mem-agent.json

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–º—è—Ç–∏
ls -la knowledge_bases/{user_kb}/memory/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥–µ–ª–∏
huggingface-cli scan-cache | grep mem-agent
```

## –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏

- `driaforall/mem-agent` - –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–≤–∞–Ω—Ç–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ (4bit, 8bit)

### –°–º–µ–Ω–∞ –º–æ–¥–µ–ª–∏

1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   ```yaml
   MEM_AGENT_MODEL: driaforall/mem-agent
   MEM_AGENT_MODEL_PRECISION: 8bit  # –∏–ª–∏ 4bit, fp16
   ```

2. –ú–æ–¥–µ–ª—å —Å–∫–∞—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
   
   –ò–ª–∏ —Å–∫–∞—á–∞—Ç—å –≤—Ä—É—á–Ω—É—é:
   ```bash
   huggingface-cli download driaforall/mem-agent
   ```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö MCP —Å–µ—Ä–≤–µ—Ä–æ–≤

### –°–ø–æ—Å–æ–± 1: JSON —Ñ–∞–π–ª

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –≤ `data/mcp_servers/`:

```json
{
  "name": "my-server",
  "description": "–ú–æ–π –∫–∞—Å—Ç–æ–º–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä",
  "command": "python",
  "args": ["-m", "my_package.server"],
  "env": {
    "MY_VAR": "value"
  },
  "enabled": true
}
```

### –°–ø–æ—Å–æ–± 2: –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ

```python
from src.mcp_registry import MCPServersManager

manager = MCPServersManager()
manager.initialize()

# –î–æ–±–∞–≤–∏—Ç—å –∏–∑ JSON —Å—Ç—Ä–æ–∫–∏
json_config = '''
{
  "name": "custom-server",
  "description": "Custom MCP server",
  "command": "node",
  "args": ["server.js"],
  "enabled": true
}
'''

manager.add_server_from_json(json_config)
```

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ –±–æ—Ç–∞ (–≤ –ø–ª–∞–Ω–∞—Ö)

–í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Å–µ—Ä–≤–µ—Ä—ã —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞:

```
/mcp add my-server
[–∑–∞–≥—Ä—É–∑–∏—Ç—å JSON —Ñ–∞–π–ª]
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û–±—â–∞—è —Å—Ö–µ–º–∞

```
Agent (—Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º MCP)
  ‚Üì
MCP Registry Client (–∞–≤—Ç–æ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–≤)
  ‚Üì
MCP Server Registry (—á—Ç–µ–Ω–∏–µ JSON –∫–æ–Ω—Ñ–∏–≥–æ–≤)
  ‚Üì
–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤–∫–ª—é—á–µ–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–∞–º:
  ‚îú‚îÄ‚îÄ mem-agent (–ª–æ–∫–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å)
  ‚îú‚îÄ‚îÄ –¥—Ä—É–≥–∏–µ MCP —Å–µ—Ä–≤–µ—Ä—ã
  ‚îî‚îÄ‚îÄ ...
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Telegram Bot ‚Üí Agent
2. Agent ‚Üí MCP Registry Client ‚Üí –û–±–Ω–∞—Ä—É–∂–∏—Ç—å —Å–µ—Ä–≤–µ—Ä—ã
3. MCP Registry Client ‚Üí –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ mem-agent
4. Agent ‚Üí mem-agent ‚Üí –°–æ—Ö—Ä–∞–Ω–∏—Ç—å/–Ω–∞–π—Ç–∏ –ø–∞–º—è—Ç—å
5. mem-agent ‚Üí knowledge_bases/{user_kb}/memory/ ‚Üí –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ (per-user)
6. Agent ‚Üí Telegram Bot ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–º—è—Ç–∏ (–∑–∞–º–µ—Ç–æ–∫ –∞–≥–µ–Ω—Ç–∞)

### user.md - –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∑–∞–ø–∏—Å–∞–Ω–Ω–∞—è –∞–≥–µ–Ω—Ç–æ–º

```markdown
# Agent Notes
- current_task: Code analysis of authentication module
- findings_count: 15
- priority_issues: 3

## Key Findings
- security_issue: [[entities/sql_injection.md]]
- performance_issue: [[entities/missing_indexes.md]]

## Context
- project_type: FastAPI backend service
- database: PostgreSQL 14
```

### entities/ - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞—Ö–æ–¥–∫–∞—Ö

```markdown
# SQL Injection Vulnerability
- entity_type: Security Issue
- severity: High
- location: /api/auth/login endpoint
- details: User input not sanitized in SQL query

## Recommendation
- Use parameterized queries
- Add input validation
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞–º–∏

```python
from src.mcp_registry import MCPServersManager

manager = MCPServersManager()
manager.initialize()

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
for server in manager.get_all_servers():
    status = "–≤–∫–ª—é—á–µ–Ω" if server.enabled else "–≤—ã–∫–ª—é—á–µ–Ω"
    print(f"{server.name}: {status}")

# –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
manager.enable_server("mem-agent")
manager.disable_server("mem-agent")

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
summary = manager.get_servers_summary()
print(f"–í—Å–µ–≥–æ: {summary['total']}, –í–∫–ª—é—á–µ–Ω–æ: {summary['enabled']}")
```

## –ß—Ç–æ —É–±—Ä–∞–Ω–æ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚ùå OpenAI API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ**: –í –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ OpenAI API –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è fallback —á–µ—Ä–µ–∑ OpenRouter. –í –Ω–∞—à–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏** (vLLM/MLX/Transformers)
- **–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è** OpenAI API key
- **–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è** –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ OpenRouter

### ‚úÖ –ß—Ç–æ –æ—Å—Ç–∞–≤–ª–µ–Ω–æ –∏ —É–ª—É—á—à–µ–Ω–æ

- ‚úÖ –í—Å—è –ª–æ–≥–∏–∫–∞ –∞–≥–µ–Ω—Ç–∞ –ø–∞–º—è—Ç–∏
- ‚úÖ Sandbox –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (tools) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–º—è—Ç–∏ (user.md + entities/)
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞: –≥–∏–±–∫–∏–π –≤—ã–±–æ—Ä –±—ç–∫–µ–Ω–¥–∞
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ MCP registry

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```yaml
# –ú–æ–¥–µ–ª—å
MEM_AGENT_MODEL: driaforall/mem-agent
MEM_AGENT_MODEL_PRECISION: 4bit

# –ë—ç–∫–µ–Ω–¥ (–∞–≤—Ç–æ-–≤—ã–±–æ—Ä)
MEM_AGENT_BACKEND: auto

# –ü—É—Ç–∏
MEM_AGENT_MEMORY_POSTFIX: memory  # Postfix –≤ KB
MCP_SERVERS_POSTFIX: .mcp_servers  # Per-user MCP —Å–µ—Ä–≤–µ—Ä—ã

# –õ–∏–º–∏—Ç—ã
MEM_AGENT_MAX_TOOL_TURNS: 20
MEM_AGENT_FILE_SIZE_LIMIT: 1048576      # 1MB –Ω–∞ —Ñ–∞–π–ª
MEM_AGENT_DIR_SIZE_LIMIT: 10485760      # 10MB –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
MEM_AGENT_MEMORY_SIZE_LIMIT: 104857600  # 100MB –≤—Å–µ–≥–æ
```

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### vLLM (Linux —Å GPU)

```yaml
MEM_AGENT_BACKEND: vllm
MEM_AGENT_VLLM_HOST: 127.0.0.1
MEM_AGENT_VLLM_PORT: 8001
MEM_AGENT_MODEL_PRECISION: fp16  # –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
```

### MLX (macOS)

```yaml
MEM_AGENT_BACKEND: mlx
MEM_AGENT_MODEL_PRECISION: 4bit  # –ë–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç—å/–∫–∞—á–µ—Å—Ç–≤–æ
```

### –£–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç—ã –ø–∞–º—è—Ç–∏

```yaml
MEM_AGENT_FILE_SIZE_LIMIT: 5242880      # 5MB –Ω–∞ —Ñ–∞–π–ª
MEM_AGENT_DIR_SIZE_LIMIT: 52428800      # 50MB –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
MEM_AGENT_MEMORY_SIZE_LIMIT: 524288000  # 500MB –≤—Å–µ–≥–æ
```

## Troubleshooting

### –ú–æ–¥–µ–ª—å –Ω–µ —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
ping huggingface.co

# –°–∫–∞—á–∞—Ç—å –≤—Ä—É—á–Ω—É—é
huggingface-cli download driaforall/mem-agent

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–µ—Ä–∫–∞–ª–æ (–µ—Å–ª–∏ –≤ –ö–∏—Ç–∞–µ)
export HF_ENDPOINT=https://hf-mirror.com
```

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MCP —Å–µ—Ä–≤–µ—Ä—É

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
cat data/mcp_servers/mem-agent.json

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –≤–∫–ª—é—á–µ–Ω
python -c "
from src.mcp_registry import MCPServersManager
manager = MCPServersManager()
manager.initialize()
server = manager.get_server('mem-agent')
print(f'Enabled: {server.enabled}')
"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –≤—Ä—É—á–Ω—É—é –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
python -m src.mem_agent.server
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –±—ç–∫–µ–Ω–¥–æ–º

```bash
# vLLM
python -c "import torch; print(torch.cuda.is_available())"
pip install vllm --no-cache-dir

# MLX (—Ç–æ–ª—å–∫–æ macOS ARM)
uname -m  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å arm64
pip install mlx mlx-lm

# Fallback –Ω–∞ CPU
export MEM_AGENT_BACKEND=transformers
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤:

- [MCP Server Registry](docs_site/agents/mcp-server-registry.md) - –°–∏—Å—Ç–µ–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ MCP —Å–µ—Ä–≤–µ—Ä–æ–≤
- [Memory Agent Setup](docs_site/agents/mem-agent-setup.md) - –ü–æ–¥—Ä–æ–±–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ mem-agent
- [MCP Tools](docs_site/agents/mcp-tools.md) - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

## Roadmap

### –í –ø–ª–∞–Ω–∞—Ö

- [ ] –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è MCP —Å–µ—Ä–≤–µ—Ä–∞–º–∏
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö MCP —Å–µ—Ä–≤–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- [ ] UI –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏
- [ ] –ú—É–ª—å—Ç–∏-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –ø–∞–º—è—Ç—å
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ —Å –æ–±–ª–∞–∫–æ–º

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ! –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å:

‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω—ã–π mem-agent** –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö API  
‚úÖ **–ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ MCP —Å–µ—Ä–≤–µ—Ä–æ–≤** —Å –ø—Ä–æ—Å—Ç—ã–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—è–º–∏** —á–µ—Ä–µ–∑ HuggingFace CLI  
‚úÖ **–ü–∞–º—è—Ç—å per-user –≤ knowledge base** –≤ `{kb_path}/{MEM_AGENT_MEMORY_POSTFIX}/`
‚úÖ **MCP —Å–µ—Ä–≤–µ—Ä—ã per-user** –≤ `{kb_path}/{MCP_SERVERS_POSTFIX}/`  
‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤** —á–µ—Ä–µ–∑ –æ–±—â—É—é MCP –ø—Ä–æ—Å–ª–æ–π–∫—É  
‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º  

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ